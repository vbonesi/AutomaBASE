id: PDS
description: Entidade Ponto Digital Lógico – SAGE Base-Fonte upd 38

attributes:

  # ── OBRIGATÓRIOS absolutOS ──────────────────────────────────────
  ID:
    type: char(32)
    required: always

  TAC:
    type: char(20)
    required: always

  TPEQP:
    type: enum
    enum: [ACO, ARE, BAH, BCP, CAG, CAR, CIA, CLI, CNC, CNV, COS, .CRE,
           CSE, CSI, ELE, .EST, ESTM, GUSI, INS, LDC, LTR, RAM, REA, REG,
           REGH, RESV, RIO, SBA, SIS, SME, TAC, TR2, TR3, UDE, UFE, UGE,
           UTR, USI]
    required: always

  NOME:
    type: char(63)
    default: ""          # programa exige preenchimento

  OCR:
    type: char(25)
    default: XXXXX01     # programa exige OCR no formato XXXXX01

  # ── CAMPOS com default sempre gerados ───────────────────────────
  CDINIC:   {type: enum, enum: [NORMAL, MANUAL, NAOSUP], default: NORMAL}
  STINI:    {type: enum, enum: [A, F], default: F}
  STNOR:    {type: enum, enum: [A, F], default: F}
  ALINT:    {type: enum, enum: [SIM, NAO], default: NAO}
  ALRIN:    {type: enum, enum: [SIM, NAO], default: NAO}
  ALRP:     {type: enum, enum: [SIM, NAO], default: NAO}
  INVRT:    {type: enum, enum: [SIM, NAO], default: NAO}
  SOEIN:    {type: enum, enum: [SIM, NAO], default: NAO}
  TPFIL:    {type: enum, enum: [NLFL, FIL1, FIL2, FIL3, FIL4,
                                FIL5, FIL6, FIL7, FIL8, FIL9], default: NLFL}

  # ── OPCIONAIS padrão / nulo ─────────────────────────────────────
  BDTR:        {type: enum, enum: [SIM, NAO], default: SIM}
  SELSD:       {type: enum, enum: [SIM, NAO], default: NAO}
  ATLZINV:     {type: enum, enum: [SIM, NAO], default: NAO}
  SINCR_MAN:   {type: enum, enum: [SIM, NAO], default: NAO}
  EE:          {type: enum, enum: [SIM, NAO], default: SIM}
  UAPL:        {type: enum, enum: [SIM, NAO], default: NAO}
  HISTSLC:     {type: enum, enum: [SIM, NAO], default: SIM}
  HISTSLC_SOE: {type: enum, enum: [SIM, NAO], default: NAO}
  NCOMISS:     {type: enum, enum: [SIM, NAO], default: NAO}

  TELA:        {type: char(50)}
  PCONDALR:    {type: char(32)}
  PRIOALR:     {type: int,  default: 0}
  TMP_ANORM:   {type: int,  default: 0}

  TCL:
    type: char(11)
    default: NLCL
    required_if: calculado          # validação condicional virá depois

  IDICCP:
    type: char(32)
    required_if: exported_iccp

  CMT:       {type: char(200)}
  MRID:      {type: char(50), system: true}
  DESC1:     {type: char(40)}
  DESC2:     {type: char(40)}
  SUBTIPO1:  {type: char(8)}
